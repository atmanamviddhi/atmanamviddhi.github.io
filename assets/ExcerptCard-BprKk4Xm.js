import{j as e,r as p}from"./main-CmC8-L3X.js";import{B as f,R as L,C as G,a as R,I as _,P as M,L as T,b as E,c as x,d as g}from"./input-BzYhUOKt.js";import{z as y,x as A,X as F}from"./App-8aRlSPPQ.js";import{S as P}from"./SocialMediaLinks-MaX23fGG.js";import"./Index-Bfn55PyV.js";import"./Footer-Bex-emVK.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=y("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=y("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=y("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),B=({excerpt:t})=>{const a=s=>s.split(`
`).map((r,i)=>e.jsxs("span",{children:[r,i<s.split(`
`).length-1&&e.jsx("br",{})]},i));return e.jsxs("div",{className:"pt-6 px-4",children:[e.jsxs("blockquote",{className:"text-lg mb-4 leading-relaxed text-left",children:['"',a(t.text),'"']}),e.jsx("div",{className:"text-sm text-muted-foreground space-y-1 text-left",children:t.bookTitle?e.jsx("p",{className:"font-semibold",children:t.bookTitle}):t.bookAuthor?e.jsxs("p",{className:"font-semibold",children:["~ ",t.bookAuthor]}):null}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-[#1A4067]/30 text-sm text-center text-muted-foreground",children:[e.jsx("img",{src:"/lovable-uploads/ic_launcher_round.png",alt:"Atmanam Viddhi Logo",className:"w-8 h-8 mx-auto mb-2"}),e.jsx("p",{className:"font-semibold",children:"Atmanam Viddhi - Know Thyself"}),e.jsx("p",{className:"mt-1",children:"atmanamviddhi.in"})]})]})},U=({excerpt:t,onShare:a,onNewExcerpt:s})=>{const r=()=>{t.amazonLink&&window.open(t.amazonLink,"_blank")};return e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(f,{variant:"outline",className:"flex-1 min-w-[140px]",onClick:s,children:[e.jsx("img",{src:"/lovable-uploads/ic_launcher_round.png",alt:"New Excerpt",className:"w-4 h-4 mr-2"}),"New Excerpt"]}),e.jsxs(f,{variant:"secondary",className:"flex-1 min-w-[140px]",onClick:a,children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Share"]}),t.amazonLink&&t.amazonLink!==""&&e.jsxs(f,{variant:"default",className:"flex-1 min-w-[140px]",onClick:r,children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Buy Book"]})]})},O=()=>{const{toast:t}=A(),a=async()=>{try{await navigator.clipboard.writeText("atmanamviddhi@axl"),t({title:"UPI ID Copied",description:"The UPI ID has been copied to your clipboard"})}catch(s){console.error("Failed to copy UPI ID:",s)}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Support Atmanam Viddhi"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("a",{href:"https://www.buymeacoffee.com/botman1001",children:e.jsx("img",{src:"https://img.buymeacoffee.com/button-api/?text=Buy me a book&emoji=ðŸ“–&slug=botman1001&button_colour=BD5FFF&font_colour=ffffff&font_family=Comic&outline_colour=000000&coffee_colour=FFDD00"})}),e.jsxs("div",{className:"mt-4 p-4 bg-white/5 rounded-lg w-full max-w-sm",children:[e.jsx("h3",{className:"text-sm font-medium mb-2",children:"UPI Payment (India)"}),e.jsx("img",{src:"/lovable-uploads/69c6ec32-0e65-419e-8e34-40a2a63b2ebc.png",alt:"UPI QR Code",className:"mx-auto mb-2 w-48 h-48"}),e.jsxs("button",{onClick:a,className:"flex items-center justify-center gap-2 w-full px-4 py-2 bg-[#1A4067] hover:bg-[#1A4067]/80 rounded-md transition-colors",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:"atmanamviddhi@axl"})]})]})]})]}),e.jsx("div",{className:"p-4 sm:p-6 pt-0 flex justify-center gap-4",children:e.jsx(P,{})})]})},C=5,w=100,S=t=>{try{const a=localStorage.getItem(t);return a?JSON.parse(a):[]}catch(a){return console.error(`Error reading ${t} from localStorage:`,a),[]}},V=()=>{const[t,a]=p.useState(()=>S("userGratitude")),[s,r]=p.useState(()=>S("userAffirmation")),[i,d]=p.useState(""),[c,m]=p.useState(""),{toast:o}=A(),l=(n,u)=>{try{localStorage.setItem(n,JSON.stringify(u))}catch(v){console.error(`Error saving ${n} to localStorage:`,v),o({variant:"destructive",title:"Storage Error",description:"Failed to save your data. Please try again."})}};return{gratitudeList:t,affirmationList:s,newGratitude:i,newAffirmation:c,handleAddGratitude:()=>{if(t.length>=C){o({description:"You can only add up to 5 gratitudes",variant:"destructive"});return}if(i.trim()){const n=[...t,i];a(n),l("userGratitude",n),d(""),o({description:"Gratitude added successfully"})}},handleAddAffirmation:()=>{if(s.length>=C){o({description:"You can only add up to 5 affirmations",variant:"destructive"});return}if(c.trim()){const n=[...s,c];r(n),l("userAffirmation",n),m(""),o({description:"Affirmation added successfully"})}},handleRemoveGratitude:n=>{const u=t.filter((v,N)=>N!==n);a(u),l("userGratitude",u),o({description:"Gratitude removed successfully"})},handleRemoveAffirmation:n=>{const u=s.filter((v,N)=>N!==n);r(u),l("userAffirmation",u),o({description:"Affirmation removed successfully"})},handleGratitudeChange:n=>{n.length<=w?d(n):o({description:`Maximum ${w} characters allowed`,variant:"destructive"})},handleAffirmationChange:n=>{n.length<=w?m(n):o({description:`Maximum ${w} characters allowed`,variant:"destructive"})}}},Y=L,H=G,X=R,J=({value:t,onChange:a,onAdd:s,placeholder:r})=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(_,{placeholder:r,value:t,onChange:i=>a(i.target.value),maxLength:100,className:"bg-white/10 border-[#1A4067]/30"}),e.jsx(f,{onClick:s,className:"shrink-0",variant:"outline",children:e.jsx(M,{className:"h-4 w-4"})})]}),q=({item:t,onRemove:a})=>e.jsxs("li",{className:"flex items-center justify-between p-2 rounded bg-white/5",children:[e.jsx("span",{className:"break-words overflow-hidden mr-2 flex-1",children:t}),e.jsx(f,{variant:"ghost",size:"sm",onClick:a,className:"shrink-0",children:e.jsx(F,{className:"h-4 w-4"})})]}),I=({title:t,items:a,isOpen:s,onOpenChange:r,inputValue:i,onInputChange:d,onAdd:c,onRemove:m,inputPlaceholder:o})=>e.jsxs(Y,{open:s,onOpenChange:r,children:[e.jsxs(H,{className:"flex w-full items-center justify-between",children:[e.jsx(T,{className:"text-lg font-semibold cursor-pointer",children:t}),e.jsx(E,{className:`h-5 w-5 transition-transform ${s?"":"-rotate-90"}`})]}),e.jsxs(X,{className:"mt-4 space-y-4",children:[e.jsx(J,{value:i,onChange:d,onAdd:c,placeholder:o}),e.jsx("ul",{className:"space-y-2",children:a.map((l,h)=>e.jsx(q,{item:l,onRemove:()=>m(h)},h))})]})]}),K=()=>{const[t,a]=p.useState(!1),[s,r]=p.useState(!1),{gratitudeList:i,affirmationList:d,newGratitude:c,newAffirmation:m,handleAddGratitude:o,handleAddAffirmation:l,handleRemoveGratitude:h,handleRemoveAffirmation:b,handleGratitudeChange:j,handleAffirmationChange:k}=V();return e.jsxs("div",{className:"space-y-4 my-8",children:[e.jsx(x,{className:"w-full bg-[#F2FCE2]/20 border-[#1A4067]/30 backdrop-blur-sm",children:e.jsx(g,{className:"pt-6",children:e.jsx(I,{title:"ðŸ™ Appreciate Life: Write Your Gratitudes",items:i,isOpen:t,onOpenChange:a,inputValue:c,onInputChange:j,onAdd:o,onRemove:h,inputPlaceholder:"I am grateful for..."})})}),e.jsx(x,{className:"w-full bg-[#E5DEFF]/20 border-[#1A4067]/30 backdrop-blur-sm",children:e.jsx(g,{className:"pt-6",children:e.jsx(I,{title:"âœ¨ Realize Your Divine Nature: Sacred Affirmations",items:d,isOpen:s,onOpenChange:r,inputValue:m,onInputChange:k,onAdd:l,onRemove:b,inputPlaceholder:"I am..."})})})]})},ie=({excerpt:t,onNewExcerpt:a,onScreenshotModeChange:s})=>{const{toast:r}=A(),[i,d]=p.useState(!1),c=t.text.match(/[\u0900-\u097F]/),m=async()=>{const l="https://atmanamviddhi.in",h=t.bookTitle||t.bookAuthor||"",b=`${t.text}

~ ${h}

${l}`;try{await navigator.clipboard.writeText(b),r({title:"Text copied to clipboard",description:"You can now paste and share it anywhere"})}catch(j){console.error("Sharing failed:",j),r({title:"Sharing failed",description:"Unable to copy text at this time",variant:"destructive"})}},o=()=>{const l=!i;d(l),s&&s(l)};return e.jsxs("div",{className:"w-[98%] mx-auto space-y-4",children:[e.jsxs("div",{className:"mt-4 relative ${isScreenshotMode ? 'z-50' : ''}",onClick:o,children:[e.jsx("style",{children:`
            @keyframes glowShadow {
              0% { box-shadow: 0 0 10px 2px rgba(255,215,0,0.3); }
              50% { box-shadow: 0 0 15px 4px rgba(255,215,0,0.5); }
              100% { box-shadow: 0 0 10px 2px rgba(255,215,0,0.3); }
            }
          `}),e.jsx(x,{className:"w-full bg-[#0A1929]/70 border-[#1A4067]/30 backdrop-blur-sm animate-[glowShadow_3s_ease-in-out_infinite]",children:e.jsx(g,{className:c?"font-hindi":"",children:e.jsx(B,{excerpt:t})})})]}),e.jsxs("div",{className:`transition-opacity duration-300 ${i?"opacity-0 pointer-events-none absolute":"opacity-100"}`,children:[t.isLocal&&e.jsx("p",{className:"text-center text-sm text-muted-foreground italic",children:"Click on the excerpt to enter screenshot mode!"}),e.jsx(x,{className:"w-full bg-[#0A1929]/70 border-[#1A4067]/30 backdrop-blur-sm",children:e.jsx(g,{className:"p-2",children:e.jsx(U,{excerpt:t,onShare:m,onNewExcerpt:a})})}),e.jsx(K,{}),e.jsx(x,{className:"w-full bg-[#0A1929]/70 border-[#1A4067]/30 backdrop-blur-sm",children:e.jsx(g,{children:e.jsx(O,{})})})]}),i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 -z-10",onClick:o})]})};export{ie as ExcerptCard};
