const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./web-CyJ6B8KH.js","./main-BtG68MM2.js","./main-6iMEOZ3Y.css","./input-BEBxYGa8.js","./App-72024K4i.js","./Index-UncljefN.js","./Footer-B6y6OlKK.js","./SocialMediaLinks-DKHnNFtg.js"])))=>i.map(i=>d[i]);
import{_ as e,j as t,r as n,b as a}from"./main-BtG68MM2.js";import{B as i,R as s,C as r,a as o,I as c,P as l,L as d,b as m,c as u,d as h}from"./input-BEBxYGa8.js";import{g as p,y as f,X as g}from"./App-72024K4i.js";import{S as x}from"./SocialMediaLinks-DKHnNFtg.js";import{v as w}from"./Index-UncljefN.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=p("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),v=p("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]),y=p("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),j=p("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),k=p("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),N=p("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */
/*! Capacitor: https://capacitorjs.com/ - MIT License */
var S,A;(A=S||(S={})).Unimplemented="UNIMPLEMENTED",A.Unavailable="UNAVAILABLE";class E extends Error{constructor(e,t,n){super(e),this.message=e,this.code=t,this.data=n}}const C=e=>{const t=e.CapacitorCustomPlatform||null,n=e.Capacitor||{},a=n.Plugins=n.Plugins||{},i=()=>null!==t?t.name:(e=>{var t,n;return(null==e?void 0:e.androidBridge)?"android":(null===(n=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===n?void 0:n.bridge)?"ios":"web"})(e),s=e=>{var t;return null===(t=n.PluginHeaders)||void 0===t?void 0:t.find((t=>t.name===e))},r=new Map;return n.convertFileSrc||(n.convertFileSrc=e=>e),n.getPlatform=i,n.handleError=t=>e.console.error(t),n.isNativePlatform=()=>"web"!==i(),n.isPluginAvailable=e=>{const t=r.get(e);return!!(null==t?void 0:t.platforms.has(i()))||!!s(e)},n.registerPlugin=(e,o={})=>{const c=r.get(e);if(c)return c.proxy;const l=i(),d=s(e);let m;const u=a=>{let i;const s=(...s)=>{const r=(async()=>(!m&&l in o?m=m="function"==typeof o[l]?await o[l]():o[l]:null!==t&&!m&&"web"in o&&(m=m="function"==typeof o.web?await o.web():o.web),m))().then((t=>{const r=((t,a)=>{var i,s;if(!d){if(t)return null===(s=t[a])||void 0===s?void 0:s.bind(t);throw new E(`"${e}" plugin is not implemented on ${l}`,S.Unimplemented)}{const s=null==d?void 0:d.methods.find((e=>a===e.name));if(s)return"promise"===s.rtype?t=>n.nativePromise(e,a.toString(),t):(t,i)=>n.nativeCallback(e,a.toString(),t,i);if(t)return null===(i=t[a])||void 0===i?void 0:i.bind(t)}})(t,a);if(r){const e=r(...s);return i=null==e?void 0:e.remove,e}throw new E(`"${e}.${a}()" is not implemented on ${l}`,S.Unimplemented)}));return"addListener"===a&&(r.remove=async()=>i()),r};return s.toString=()=>`${a.toString()}() { [capacitor code] }`,Object.defineProperty(s,"name",{value:a,writable:!1,configurable:!1}),s},h=u("addListener"),p=u("removeListener"),f=(e,t)=>{const n=h({eventName:e},t),a=async()=>{const a=await n;p({eventName:e,callbackId:a},t)},i=new Promise((e=>n.then((()=>e({remove:a})))));return i.remove=async()=>{await a()},i},g=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return d?f:h;case"removeListener":return p;default:return u(t)}}});return a[e]=g,r.set(e,{name:e,proxy:g,platforms:new Set([...Object.keys(o),...d?[l]:[]])}),g},n.Exception=E,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},L=(e=>e.Capacitor=C(e))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),O=L.registerPlugin;class _{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,t){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(t);const a=this.windowListeners[e];a&&!a.registered&&this.addWindowListener(a),n&&this.sendRetainedArgumentsForEvent(e);return Promise.resolve({remove:async()=>this.removeListener(e,t)})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,n){const a=this.listeners[e];if(a)a.forEach((e=>e(t)));else if(n){let n=this.retainedEventArguments[e];n||(n=[]),n.push(t),this.retainedEventArguments[e]=n}}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new L.Exception(e,S.Unimplemented)}unavailable(e="not available"){return new L.Exception(e,S.Unavailable)}async removeListener(e,t){const n=this.listeners[e];if(!n)return;const a=n.indexOf(t);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach((t=>{this.notifyListeners(e,t)})))}}const I=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),P=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class D extends _{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach((e=>{if(e.length<=0)return;let[n,a]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");n=P(n).trim(),a=P(a).trim(),t[n]=a})),t}async setCookie(e){try{const t=I(e.key),n=I(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),s=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${n||""}${a}; path=${i}; ${s};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}O("CapacitorCookies",{web:()=>new D});const T=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),a=((e={})=>{const t=Object.keys(e);return Object.keys(e).map((e=>e.toLocaleLowerCase())).reduce(((n,a,i)=>(n[a]=e[t[i]],n)),{})})(e.headers)["content-type"]||"";if("string"==typeof e.data)n.body=e.data;else if(a.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[n,a]of Object.entries(e.data||{}))t.set(n,a);n.body=t.toString()}else if(a.includes("multipart/form-data")||e.data instanceof FormData){const t=new FormData;if(e.data instanceof FormData)e.data.forEach(((e,n)=>{t.append(n,e)}));else for(const n of Object.keys(e.data))t.append(n,e.data[n]);n.body=t;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(a.includes("application/json")||"object"==typeof e.data)&&(n.body=JSON.stringify(e.data));return n};class R extends _{async request(e){const t=T(e,e.webFetchExtra),n=((e,t=!0)=>e?Object.entries(e).reduce(((e,n)=>{const[a,i]=n;let s,r;return Array.isArray(i)?(r="",i.forEach((e=>{s=t?encodeURIComponent(e):e,r+=`${a}=${s}&`})),r.slice(0,-1)):(s=t?encodeURIComponent(i):i,r=`${a}=${s}`),`${e}&${r}`}),"").substr(1):null)(e.params,e.shouldEncodeUrlParams),a=n?`${e.url}?${n}`:e.url,i=await fetch(a,t),s=i.headers.get("content-type")||"";let r,o,{responseType:c="text"}=i.ok?e:{};switch(s.includes("application/json")&&(c="json"),c){case"arraybuffer":case"blob":o=await i.blob(),r=await(async e=>new Promise(((t,n)=>{const a=new FileReader;a.onload=()=>{const e=a.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},a.onerror=e=>n(e),a.readAsDataURL(e)})))(o);break;case"json":r=await i.json();break;default:r=await i.text()}const l={};return i.headers.forEach(((e,t)=>{l[t]=e})),{data:r,headers:l,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}O("CapacitorHttp",{web:()=>new R});const F=O("Share",{web:()=>e((()=>import("./web-CyJ6B8KH.js")),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url).then((e=>new e.ShareWeb))}),$=({excerpt:e,isFavorite:n,onToggleFavorite:a})=>{return t.jsxs("div",{className:"pt-6 px-4",children:[t.jsx("style",{children:"\n          @keyframes heartbeat {\n            0% { transform: scale(1); }\n            25% { transform: scale(1.1); }\n            50% { transform: scale(1); }\n            75% { transform: scale(1.1); }\n            100% { transform: scale(1); }\n          }\n          .heart-beat {\n            animation: heartbeat 1s ease-in-out;\n          }\n        "}),t.jsxs("blockquote",{className:"text-lg mb-4 leading-relaxed text-left",children:['"',(i=e.text,i.split("\n").map(((e,n)=>t.jsxs("span",{children:[e,n<i.split("\n").length-1&&t.jsx("br",{})]},n)))),'"']}),t.jsx("div",{className:"text-sm text-muted-foreground space-y-1 text-left",children:e.bookTitle?t.jsx("p",{className:"font-semibold",children:e.bookTitle}):e.bookAuthor?t.jsxs("p",{className:"font-semibold",children:["~ ",e.bookAuthor]}):null}),t.jsx("div",{className:"mt-6 pt-4 border-t border-[#1A4067]/30 text-sm text-center text-muted-foreground",children:t.jsxs("div",{className:"flex items-center justify-center gap-4",children:[t.jsx("button",{onClick:e=>{e.stopPropagation(),a()},className:"p-2 rounded-full hover:bg-white/10 transition-colors "+(n?"text-red-500 hover:text-red-600":"text-gray-400 hover:text-red-500"),children:t.jsx(b,{className:"w-6 h-6 "+(n?"fill-current heart-beat":"")})}),t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("img",{src:"/lovable-uploads/ic_launcher_round.png",alt:"Atmanam Viddhi Logo",className:"w-8 h-8 mx-auto mb-2"}),t.jsx("p",{className:"font-semibold",children:"Atmanam Viddhi - Know Thyself"}),t.jsx("p",{className:"mt-1",children:"atmanamviddhi.in"})]})]})})]});var i},U=({excerpt:e,onShare:n,onNewExcerpt:a})=>t.jsxs("div",{className:"flex flex-wrap gap-4",children:[t.jsxs(i,{variant:"outline",className:"flex-1 min-w-[140px]",onClick:()=>{try{"undefined"!=typeof window&&window.gtag&&window.gtag("event","new_excerpt_click",{event_category:"engagement",event_label:"User requested new excerpt",action_source:"main_view",user_interaction:"button_click"})}catch(e){}a()},children:[t.jsx("img",{src:"/lovable-uploads/ic_launcher_round.png",alt:"New Excerpt",className:"w-4 h-4 mr-2"}),"New Excerpt"]}),t.jsxs(i,{variant:"ghost",className:"flex-1 min-w-[140px]",onClick:()=>{var t;try{"undefined"!=typeof window&&window.gtag&&window.gtag("event","share_click",{event_category:"engagement",event_label:e||(null==(t=e.text)?void 0:t.substring(0,30))||"unknown",content_type:"excerpt",share_method:"button_click"})}catch(a){}n()},children:[t.jsx(y,{className:"w-4 h-4 mr-2"}),"Share"]}),e.amazonLink&&""!==e.amazonLink&&t.jsxs(i,{variant:"default",className:"flex-1 min-w-[140px]",onClick:()=>{if(e.amazonLink){window.open(e.amazonLink,"_blank");try{"undefined"!=typeof window&&window.gtag&&window.gtag("event","buy_book_click",{event_category:"engagement",event_label:e||"unknown"})}catch(t){}}},children:[t.jsx(j,{className:"w-4 h-4 mr-2"}),"Buy Book"]})]}),M=()=>{const{toast:e}=f();return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Support Atmanam Viddhi"}),t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx("a",{href:"https://www.buymeacoffee.com/botman1001",children:t.jsx("img",{src:"https://img.buymeacoffee.com/button-api/?text=Buy me a book&emoji=📖&slug=botman1001&button_colour=BD5FFF&font_colour=ffffff&font_family=Comic&outline_colour=000000&coffee_colour=FFDD00"})}),t.jsx("h3",{className:"text-sm font-medium mb-2",children:"UPI Payment (India)"}),t.jsxs("button",{onClick:async()=>{try{await navigator.clipboard.writeText("atmanamviddhi@axl"),e({title:"UPI ID Copied",description:"The UPI ID has been copied to your clipboard"})}catch(t){}},className:"flex items-center justify-center gap-2 w-full px-4 py-2 bg-[#1A4067] hover:bg-[#1A4067]/80 rounded-md transition-colors",children:[t.jsx(v,{className:"w-4 h-4"}),t.jsx("span",{children:"atmanamviddhi@axl"})]})]})]}),t.jsx("div",{className:"p-4 sm:p-6 pt-0 flex justify-center gap-4",children:t.jsx(x,{})})]})},G=100,J=e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):[]}catch(t){return[]}},q=s,z=r,B=o,V=({value:e,onChange:n,onAdd:a,placeholder:s})=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx(c,{placeholder:s,value:e,onChange:e=>n(e.target.value),maxLength:100,className:"bg-white/10 border-[#1A4067]/30"}),t.jsx(i,{onClick:a,className:"shrink-0",variant:"outline",children:t.jsx(l,{className:"h-4 w-4"})})]}),H=({item:e,onRemove:n})=>t.jsxs("li",{className:"flex items-center justify-between p-2 rounded bg-white/5",children:[t.jsx("span",{className:"break-words overflow-hidden mr-2 flex-1",children:e}),t.jsx(i,{variant:"ghost",size:"sm",onClick:n,className:"shrink-0",children:t.jsx(g,{className:"h-4 w-4"})})]}),W=({title:e,items:n,isOpen:a,onOpenChange:i,inputValue:s,onInputChange:r,onAdd:o,onRemove:c,inputPlaceholder:l})=>t.jsxs(q,{open:a,onOpenChange:t=>{"undefined"!=typeof window&&window.gtag&&window.gtag("event","collapsible_toggle",{event_category:"engagement",event_label:e,action:t?"expand":"collapse",items_count:n.length}),i(t)},children:[t.jsxs(z,{className:"flex w-full items-center justify-between",children:[t.jsx(d,{className:"text-lg font-semibold cursor-pointer",children:e}),t.jsx(m,{className:"h-5 w-5 transition-transform "+(a?"":"-rotate-90")})]}),t.jsxs(B,{className:"mt-4 space-y-4",children:[t.jsx(V,{value:s,onChange:r,onAdd:o,placeholder:l}),t.jsx("ul",{className:"space-y-2",children:n.map(((e,n)=>t.jsx(H,{item:e,onRemove:()=>c(n)},n)))})]})]}),Y=()=>{const[e,a]=n.useState(!1),[i,s]=n.useState(!1),{gratitudeList:r,affirmationList:o,newGratitude:c,newAffirmation:l,handleAddGratitude:d,handleAddAffirmation:m,handleRemoveGratitude:p,handleRemoveAffirmation:g,handleGratitudeChange:x,handleAffirmationChange:w}=(()=>{const[e,t]=n.useState((()=>J("userGratitude"))),[a,i]=n.useState((()=>J("userAffirmation"))),[s,r]=n.useState(""),[o,c]=n.useState(""),{toast:l}=f(),d=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(n){l({variant:"destructive",title:"Storage Error",description:"Failed to save your data. Please try again."})}};return{gratitudeList:e,affirmationList:a,newGratitude:s,newAffirmation:o,handleAddGratitude:()=>{if(e.length>=5)l({description:"You can only add up to 5 gratitudes",variant:"destructive"});else if(s.trim()){const n=[...e,s];t(n),d("userGratitude",n),r(""),l({description:"Gratitude added successfully"})}},handleAddAffirmation:()=>{if(a.length>=5)l({description:"You can only add up to 5 affirmations",variant:"destructive"});else if(o.trim()){const e=[...a,o];i(e),d("userAffirmation",e),c(""),l({description:"Affirmation added successfully"})}},handleRemoveGratitude:n=>{const a=e.filter(((e,t)=>t!==n));t(a),d("userGratitude",a),l({description:"Gratitude removed successfully"})},handleRemoveAffirmation:e=>{const t=a.filter(((t,n)=>n!==e));i(t),d("userAffirmation",t),l({description:"Affirmation removed successfully"})},handleGratitudeChange:e=>{e.length<=G?r(e):l({description:"Maximum 100 characters allowed",variant:"destructive"})},handleAffirmationChange:e=>{e.length<=G?c(e):l({description:"Maximum 100 characters allowed",variant:"destructive"})}}})();return t.jsxs("div",{className:"space-y-4 my-8",children:[t.jsx(u,{className:"w-full bg-[#F2FCE2]/20 border-[#1A4067]/30 backdrop-blur-sm",children:t.jsx(h,{className:"pt-6",children:t.jsx(W,{title:"🙏 Appreciate Life: Write Your Gratitudes",items:r,isOpen:e,onOpenChange:a,inputValue:c,onInputChange:x,onAdd:d,onRemove:p,inputPlaceholder:"I am grateful for..."})})}),t.jsx(u,{className:"w-full bg-[#E5DEFF]/20 border-[#1A4067]/30 backdrop-blur-sm",children:t.jsx(h,{className:"pt-6",children:t.jsx(W,{title:"✨ Realize Your Divine Nature: Sacred Affirmations",items:o,isOpen:i,onOpenChange:s,inputValue:l,onInputChange:w,onAdd:m,onRemove:g,inputPlaceholder:"I am..."})})})]})};const K=()=>{const[e,a]=n.useState([{id:"wisdom",label:"Wisdom",checked:!1},{id:"gratitude",label:"Gratitude",checked:!1},{id:"affirmation",label:"Affirmation",checked:!1}]);n.useEffect((()=>{const t=localStorage.getItem("morningRitualChecklistDate"),n=(new Date).toLocaleDateString();if((()=>{if(!t)return!0;if(t!==n){const e=new Date,t=new Date;return t.setHours(1,0,0,0),e>=t}return!1})())localStorage.setItem("morningRitualChecklistDate",n),localStorage.removeItem("morningRitualChecklist"),a(e.map((e=>({...e,checked:!1}))));else{const e=localStorage.getItem("morningRitualChecklist");e&&a(JSON.parse(e))}}),[]),n.useEffect((()=>{const t=()=>{const n=new Date,i=new Date;i.setDate(n.getDate()+1),i.setHours(1,0,0,0);const s=i.getTime()-n.getTime();return setTimeout((()=>{const n=(new Date).toLocaleDateString();localStorage.setItem("morningRitualChecklistDate",n),localStorage.removeItem("morningRitualChecklist"),a(e.map((e=>({...e,checked:!1})))),t()}),s)},n=t();return()=>clearTimeout(n)}),[e]);return t.jsxs("div",{className:"mt-4",children:[t.jsx("p",{className:"text-center text-sm text-white/70 mb-2",children:"Today's Morning Ritual"}),t.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:e.map((n=>t.jsxs("div",{onClick:()=>(t=>{const n=e.map((e=>e.id===t?{...e,checked:!e.checked}:e));a(n),localStorage.setItem("morningRitualChecklist",JSON.stringify(n))})(n.id),className:"flex items-center gap-1 bg-white/10 px-3 py-2 rounded-md cursor-pointer hover:bg-white/15 transition-colors",children:[n.checked?t.jsx(k,{className:"w-4 h-4 text-green-400"}):t.jsx(N,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm",children:n.label})]},n.id)))})]})},Z=Object.freeze(Object.defineProperty({__proto__:null,ExcerptCard:({excerpt:e,onNewExcerpt:a,onScreenshotModeChange:i})=>{!function(){const{toast:e}=f(),[t,a]=n.useState("default");n.useEffect((()=>{"Notification"in window&&a(Notification.permission)}),[]);const i=()=>{if("granted"===Notification.permission){localStorage.setItem("morningRitualNotifications","enabled");const e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),7,0,0);e>t&&t.setDate(t.getDate()+1);const n=t.getTime()-e.getTime();setTimeout((()=>{const e=new Notification("Morning Ritual",{body:"Time for your morning ritual with Atmanam Viddhi. Start your day mindfully.",icon:"/favicon.ico"});e.onclick=()=>{window.focus(),e.close()},i()}),n)}},s=async()=>{if("Notification"in window)try{const t=await Notification.requestPermission();a(t),"granted"===t?(new Notification("Notifications Enabled",{body:"You will now receive daily morning ritual reminders at 7:00 AM.",icon:"/favicon.ico"}),i(),e({title:"Notifications Enabled",description:"You'll receive daily morning ritual reminders at 7:00 AM."})):"denied"===t&&e({title:"Notifications Denied",description:"You won't receive morning ritual reminders.",variant:"destructive"})}catch(t){e({title:"Something went wrong",description:"Could not enable notifications. Please try again.",variant:"destructive"})}else e({title:"Notifications Not Supported",description:"Your browser doesn't support notifications.",variant:"destructive"})};n.useEffect((()=>{"Notification"in window&&"granted"===Notification.permission&&"enabled"===localStorage.getItem("morningRitualNotifications")&&i()}),[])}();const{toast:s}=f(),[r,o]=n.useState(!1),[c,l]=n.useState(!1),d=e.text.match(/[\u0900-\u097F]/);n.useEffect((()=>{const t=JSON.parse(localStorage.getItem("favoriteExcerpts")||"[]").some((t=>e.id&&t.id===e.id||t.text===e.text));l(t)}),[e]);const m=()=>{const t=JSON.parse(localStorage.getItem("favoriteExcerpts")||"[]"),n=JSON.parse(localStorage.getItem("localExcerpts")||"[]");if(c){const a=t.filter((t=>!(e.id&&t.id===e.id||t.text===e.text)));localStorage.setItem("favoriteExcerpts",JSON.stringify(a)),l(!1);const i=n.filter((t=>!(t.text===e.text&&"favorite"===t.type)));localStorage.setItem("localExcerpts",JSON.stringify(i)),s({title:"Removed from favorites",description:"Excerpt has been removed from your collection",className:"bottom-0 right-0 flex fixed md:max-w-[420px] md:bottom-4 md:right-4"})}else{const a={...e,id:e.id||w(),isFavorite:!0};localStorage.setItem("favoriteExcerpts",JSON.stringify([...t,a])),l(!0);const i={id:a.id,bookTitle:e.bookTitle||"Unknown",bookAuthor:e.bookAuthor,translator:e.translator,text:e.text,category:e.bookTitle||"Favorites",language:"en",createdAt:(new Date).toISOString(),type:"favorite"},r=n.findIndex((t=>t.text===e.text));if(-1===r)localStorage.setItem("localExcerpts",JSON.stringify([...n,i]));else{const e=[...n];e[r]={...e[r],type:"favorite",id:i.id},localStorage.setItem("localExcerpts",JSON.stringify(e))}s({title:"Added to favorites",description:"Excerpt has been added to your collection",className:"bottom-0 right-0 flex fixed md:max-w-[420px] md:bottom-4 md:right-4"})}},p=()=>{const e=!r;o(e),i&&i(e)};return t.jsxs("div",{className:"w-[98%] mx-auto space-y-4",children:[t.jsxs("div",{className:"mt-4 relative",onClick:p,children:[t.jsx("style",{children:"\n              @keyframes glowShadow {\n                0% { box-shadow: 0 0 10px 2px rgba(255,215,0,0.3); }\n                50% { box-shadow: 0 0 15px 4px rgba(255,215,0,0.5); }\n                100% { box-shadow: 0 0 10px 2px rgba(255,215,0,0.3); }\n              }\n            "}),t.jsx(u,{className:"w-full bg-[#0A1929]/70 border-[#1A4067]/30 backdrop-blur-sm animate-[glowShadow_3s_ease-in-out_infinite]",children:t.jsx(h,{className:d?"font-hindi":"",children:t.jsx($,{excerpt:e,isFavorite:c,onToggleFavorite:m})})})]}),t.jsxs("div",{className:"transition-opacity duration-300 "+(r?"opacity-0 pointer-events-none absolute":"opacity-100"),children:[e.isLocal&&t.jsx("p",{className:"text-center text-sm text-muted-foreground italic",children:"Click on the excerpt to enter screenshot mode!"}),t.jsx(u,{className:"w-full bg-[#0A1929]/70 border-[#1A4067]/30 backdrop-blur-sm",children:t.jsx(h,{className:"p-2",children:t.jsx(U,{excerpt:e,onShare:async()=>{const t=e.bookTitle||e.bookAuthor||"",n=`${e.text}\n\n~ ${t}\n\nhttps://atmanamviddhi.in`;try{await navigator.clipboard.writeText(n),s({title:"Text copied to clipboard",description:"You can now paste and share it anywhere"}),await F.share({text:n,dialogTitle:"Share Excerpt"})}catch(a){navigator.clipboard||s({title:"Sharing failed",description:"Unable to share at this time",variant:"destructive"})}},onNewExcerpt:a,onToggleFavorite:m,isFavorite:c})})}),t.jsx(K,{}),t.jsx(Y,{}),t.jsx(u,{className:"w-full bg-[#0A1929]/70 border-[#1A4067]/30 backdrop-blur-sm",children:t.jsx(h,{children:t.jsx(M,{})})})]}),r&&t.jsx("div",{className:"fixed inset-0 bg-black/50 -z-10",onClick:p})]})}},Symbol.toStringTag,{value:"Module"}));export{Z as E,_ as W};
