import{j as e,r as t}from"./main-C0PaIXG1.js";import{B as a,R as s,C as i,a as r,I as o,P as n,L as l,b as c,c as d,d as m}from"./input-CJAg3OS-.js";import{z as h,x,X as p}from"./App-QkJ-hYCf.js";import{S as u}from"./SocialMediaLinks-DwZPU0UK.js";import{v as f}from"./Index-Cr0Di-Jn.js";import"./Footer-CrFzNU-5.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=h("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),j=h("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]),b=h("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),v=h("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),N=({excerpt:t,isFavorite:a,onToggleFavorite:s})=>{return e.jsxs("div",{className:"pt-6 px-4",children:[e.jsxs("blockquote",{className:"text-lg mb-4 leading-relaxed text-left",children:['"',(i=t.text,i.split("\n").map(((t,a)=>e.jsxs("span",{children:[t,a<i.split("\n").length-1&&e.jsx("br",{})]},a)))),'"']}),e.jsx("div",{className:"text-sm text-muted-foreground space-y-1 text-left",children:t.bookTitle?e.jsx("p",{className:"font-semibold",children:t.bookTitle}):t.bookAuthor?e.jsxs("p",{className:"font-semibold",children:["~ ",t.bookAuthor]}):null}),e.jsx("div",{className:"mt-6 pt-4 border-t border-[#1A4067]/30 text-sm text-center text-muted-foreground",children:e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx("button",{onClick:e=>{e.stopPropagation(),s()},className:"p-2 rounded-full hover:bg-white/10 transition-colors "+(a?"text-red-500 hover:text-red-600":"text-gray-400 hover:text-red-500"),children:e.jsx(g,{className:"w-6 h-6 "+(a?"fill-current":"")})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:"/lovable-uploads/ic_launcher_round.png",alt:"Atmanam Viddhi Logo",className:"w-8 h-8 mx-auto mb-2"}),e.jsx("p",{className:"font-semibold",children:"Atmanam Viddhi - Know Thyself"}),e.jsx("p",{className:"mt-1",children:"atmanamviddhi.in"})]})]})})]});var i},y=({excerpt:t,onShare:s,onNewExcerpt:i})=>e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs(a,{variant:"outline",className:"flex-1 min-w-[140px]",onClick:i,children:[e.jsx("img",{src:"/lovable-uploads/ic_launcher_round.png",alt:"New Excerpt",className:"w-4 h-4 mr-2"}),"New Excerpt"]}),e.jsxs(a,{variant:"ghost",className:"flex-1 min-w-[140px]",onClick:s,children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),"Share"]}),t.amazonLink&&""!==t.amazonLink&&e.jsxs(a,{variant:"default",className:"flex-1 min-w-[140px]",onClick:()=>{t.amazonLink&&window.open(t.amazonLink,"_blank")},children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Buy Book"]})]}),w=()=>{const{toast:t}=x();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 sm:p-6 text-center",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Support Atmanam Viddhi"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("a",{href:"https://www.buymeacoffee.com/botman1001",children:e.jsx("img",{src:"https://img.buymeacoffee.com/button-api/?text=Buy me a book&emoji=📖&slug=botman1001&button_colour=BD5FFF&font_colour=ffffff&font_family=Comic&outline_colour=000000&coffee_colour=FFDD00"})}),e.jsxs("div",{className:"mt-4 p-4 bg-white/5 rounded-lg w-full max-w-sm",children:[e.jsx("h3",{className:"text-sm font-medium mb-2",children:"UPI Payment (India)"}),e.jsx("img",{src:"/lovable-uploads/69c6ec32-0e65-419e-8e34-40a2a63b2ebc.png",alt:"UPI QR Code",className:"mx-auto mb-2 w-48 h-48"}),e.jsxs("button",{onClick:async()=>{try{await navigator.clipboard.writeText("atmanamviddhi@axl"),t({title:"UPI ID Copied",description:"The UPI ID has been copied to your clipboard"})}catch(e){}},className:"flex items-center justify-center gap-2 w-full px-4 py-2 bg-[#1A4067] hover:bg-[#1A4067]/80 rounded-md transition-colors",children:[e.jsx(j,{className:"w-4 h-4"}),e.jsx("span",{children:"atmanamviddhi@axl"})]})]})]})]}),e.jsx("div",{className:"p-4 sm:p-6 pt-0 flex justify-center gap-4",children:e.jsx(u,{})})]})},k=100,A=e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):[]}catch(t){return[]}},S=s,C=i,I=r,F=({value:t,onChange:s,onAdd:i,placeholder:r})=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{placeholder:r,value:t,onChange:e=>s(e.target.value),maxLength:100,className:"bg-white/10 border-[#1A4067]/30"}),e.jsx(a,{onClick:i,className:"shrink-0",variant:"outline",children:e.jsx(n,{className:"h-4 w-4"})})]}),E=({item:t,onRemove:s})=>e.jsxs("li",{className:"flex items-center justify-between p-2 rounded bg-white/5",children:[e.jsx("span",{className:"break-words overflow-hidden mr-2 flex-1",children:t}),e.jsx(a,{variant:"ghost",size:"sm",onClick:s,className:"shrink-0",children:e.jsx(p,{className:"h-4 w-4"})})]}),O=({title:t,items:a,isOpen:s,onOpenChange:i,inputValue:r,onInputChange:o,onAdd:n,onRemove:d,inputPlaceholder:m})=>e.jsxs(S,{open:s,onOpenChange:i,children:[e.jsxs(C,{className:"flex w-full items-center justify-between",children:[e.jsx(l,{className:"text-lg font-semibold cursor-pointer",children:t}),e.jsx(c,{className:"h-5 w-5 transition-transform "+(s?"":"-rotate-90")})]}),e.jsxs(I,{className:"mt-4 space-y-4",children:[e.jsx(F,{value:r,onChange:o,onAdd:n,placeholder:m}),e.jsx("ul",{className:"space-y-2",children:a.map(((t,a)=>e.jsx(E,{item:t,onRemove:()=>d(a)},a)))})]})]}),G=()=>{const[a,s]=t.useState(!1),[i,r]=t.useState(!1),{gratitudeList:o,affirmationList:n,newGratitude:l,newAffirmation:c,handleAddGratitude:h,handleAddAffirmation:p,handleRemoveGratitude:u,handleRemoveAffirmation:f,handleGratitudeChange:g,handleAffirmationChange:j}=(()=>{const[e,a]=t.useState((()=>A("userGratitude"))),[s,i]=t.useState((()=>A("userAffirmation"))),[r,o]=t.useState(""),[n,l]=t.useState(""),{toast:c}=x(),d=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(a){c({variant:"destructive",title:"Storage Error",description:"Failed to save your data. Please try again."})}};return{gratitudeList:e,affirmationList:s,newGratitude:r,newAffirmation:n,handleAddGratitude:()=>{if(e.length>=5)c({description:"You can only add up to 5 gratitudes",variant:"destructive"});else if(r.trim()){const t=[...e,r];a(t),d("userGratitude",t),o(""),c({description:"Gratitude added successfully"})}},handleAddAffirmation:()=>{if(s.length>=5)c({description:"You can only add up to 5 affirmations",variant:"destructive"});else if(n.trim()){const e=[...s,n];i(e),d("userAffirmation",e),l(""),c({description:"Affirmation added successfully"})}},handleRemoveGratitude:t=>{const s=e.filter(((e,a)=>a!==t));a(s),d("userGratitude",s),c({description:"Gratitude removed successfully"})},handleRemoveAffirmation:e=>{const t=s.filter(((t,a)=>a!==e));i(t),d("userAffirmation",t),c({description:"Affirmation removed successfully"})},handleGratitudeChange:e=>{e.length<=k?o(e):c({description:"Maximum 100 characters allowed",variant:"destructive"})},handleAffirmationChange:e=>{e.length<=k?l(e):c({description:"Maximum 100 characters allowed",variant:"destructive"})}}})();return e.jsxs("div",{className:"space-y-4 my-8",children:[e.jsx(d,{className:"w-full bg-[#F2FCE2]/20 border-[#1A4067]/30 backdrop-blur-sm",children:e.jsx(m,{className:"pt-6",children:e.jsx(O,{title:"🙏 Appreciate Life: Write Your Gratitudes",items:o,isOpen:a,onOpenChange:s,inputValue:l,onInputChange:g,onAdd:h,onRemove:u,inputPlaceholder:"I am grateful for..."})})}),e.jsx(d,{className:"w-full bg-[#E5DEFF]/20 border-[#1A4067]/30 backdrop-blur-sm",children:e.jsx(m,{className:"pt-6",children:e.jsx(O,{title:"✨ Realize Your Divine Nature: Sacred Affirmations",items:n,isOpen:i,onOpenChange:r,inputValue:c,onInputChange:j,onAdd:p,onRemove:f,inputPlaceholder:"I am..."})})})]})},L=({excerpt:a,onNewExcerpt:s,onScreenshotModeChange:i})=>{const{toast:r}=x(),[o,n]=t.useState(!1),[l,c]=t.useState(!1),h=a.text.match(/[\u0900-\u097F]/);t.useEffect((()=>{const e=JSON.parse(localStorage.getItem("favoriteExcerpts")||"[]").some((e=>a.id&&e.id===a.id||e.text===a.text));c(e)}),[a]);const p=()=>{const e=JSON.parse(localStorage.getItem("favoriteExcerpts")||"[]");if(l){const t=e.filter((e=>!(a.id&&e.id===a.id||e.text===a.text)));localStorage.setItem("favoriteExcerpts",JSON.stringify(t)),c(!1);const s=JSON.parse(localStorage.getItem("localExcerpts")||"[]").filter((e=>!(e.text===a.text&&"favorite"===e.type)));localStorage.setItem("localExcerpts",JSON.stringify(s)),r({title:"Removed from favorites",description:"Excerpt has been removed from your collection"})}else{const t={...a,id:a.id||f(),isFavorite:!0};localStorage.setItem("favoriteExcerpts",JSON.stringify([...e,t])),c(!0);const s={id:t.id,bookTitle:a.bookTitle||"Unknown",bookAuthor:a.bookAuthor,translator:a.translator,text:a.text,category:a.bookTitle||"Favorites",language:"en",createdAt:(new Date).toISOString(),type:"favorite"},i=JSON.parse(localStorage.getItem("localExcerpts")||"[]");localStorage.setItem("localExcerpts",JSON.stringify([...i,s])),r({title:"Added to favorites",description:"Excerpt has been added to your collection"})}},u=()=>{const e=!o;n(e),i&&i(e)};return e.jsxs("div",{className:"w-[98%] mx-auto space-y-4",children:[e.jsxs("div",{className:"mt-4 relative",onClick:u,children:[e.jsx("style",{children:"\n            @keyframes glowShadow {\n              0% { box-shadow: 0 0 10px 2px rgba(255,215,0,0.3); }\n              50% { box-shadow: 0 0 15px 4px rgba(255,215,0,0.5); }\n              100% { box-shadow: 0 0 10px 2px rgba(255,215,0,0.3); }\n            }\n          "}),e.jsx(d,{className:"w-full bg-[#0A1929]/70 border-[#1A4067]/30 backdrop-blur-sm animate-[glowShadow_3s_ease-in-out_infinite]",children:e.jsx(m,{className:h?"font-hindi":"",children:e.jsx(N,{excerpt:a,isFavorite:l,onToggleFavorite:p})})})]}),e.jsxs("div",{className:"transition-opacity duration-300 "+(o?"opacity-0 pointer-events-none absolute":"opacity-100"),children:[a.isLocal&&e.jsx("p",{className:"text-center text-sm text-muted-foreground italic",children:"Click on the excerpt to enter screenshot mode!"}),e.jsx(d,{className:"w-full bg-[#0A1929]/70 border-[#1A4067]/30 backdrop-blur-sm",children:e.jsx(m,{className:"p-2",children:e.jsx(y,{excerpt:a,onShare:async()=>{const e=a.bookTitle||a.bookAuthor||"",t=`${a.text}\n\n~ ${e}\n\nhttps://atmanamviddhi.in`;try{await navigator.clipboard.writeText(t),r({title:"Text copied to clipboard",description:"You can now paste and share it anywhere"})}catch(s){r({title:"Sharing failed",description:"Unable to copy text at this time",variant:"destructive"})}},onNewExcerpt:s,onToggleFavorite:p,isFavorite:l})})}),e.jsx(G,{}),e.jsx(d,{className:"w-full bg-[#0A1929]/70 border-[#1A4067]/30 backdrop-blur-sm",children:e.jsx(m,{children:e.jsx(w,{})})})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 -z-10",onClick:u})]})};
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */export{L as ExcerptCard};
